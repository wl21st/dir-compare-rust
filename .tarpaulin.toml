# Tarpaulin code coverage configuration
# For full options, see: https://github.com/xd009642/tarpaulin#configuration

[report]
# Output formats: HTML for viewing, XML for CI, LCOV for editors
out = ["Html", "Xml", "Lcov"]
output-dir = "target/coverage"

# Use LLVM engine for more accurate coverage (requires nightly Rust)
engine = "Llvm"

# Timeout for tests (5 minutes)
timeout = "300"

# Run coverage for all workspace packages
workspace = true

# Exclude test files from coverage reports
exclude-files = ["target/*", "**/tests/*", "**/test_*"]

# Don't include test functions in coverage
ignore-tests = true

# Show detailed line and branch coverage
line-coverage = true
branch-coverage = true
count = true

# Report missing coverage
show-missing = true
uncovered-lines = true
uncovered-functions = true
uncovered-regions = true

# Skip cleaning to speed up reruns
skip-clean = true

# Allow warnings during coverage builds
allow-warnings = true
